<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/design/style.css">
    <title>reNomicms</title>
</head>
<body class="bg-black m-[auto] flex flex-col items-center justify-center gap-1 sm:gap-4 pb-[70px] sm:pb-[70px] sm:flex-row sm:items-start">


    <!--SIDEBAR (only for desktop)-->
    <div class="hidden sm:flex flex-col gap-2 items-start top-0 w-[220px] text-white ml-[-240px] sticky z-50">
        <div class="flex items-center px-[12px] py-4 w-full">
            <a href="#" class="flex gap-2 items-center text-[18px] font-bold"><img src="/design/img/logo-icon.png" alt=""> NomiCMS</a>
        </div>
        <div class="flex flex-col bg-[#080808] rounded-[8px] w-full gap-1 text-[16px]">
            <a href="/modules/user/profile.html" class="flex items-start gap-3 px-[12px] py-[10px] border-b border-black">
                    <img width="42" class="rounded-[8px]" src="/design/img/default-avatar.png" alt="">
                <div>
                    <p>shuname</p>
                    <p class="text-[12px] text-[#dbdbdb]">–ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ—Ñ–∏–ª—å</p>
                </div>
            </a>

            
        </div>

        <div class="flex flex-col w-full gap-1 text-[16px] border-b border-[#0f0f0f] pb-2">
            <a href="#" class="flex justify-between items-center gap-3 px-[12px] py-[8px] text-[#dbdbdb] font-bold rounded-[8px] hover:bg-[#161616]"><p class="flex items-center gap-2"><img src="/design/img/mail-sidebar.png" alt="">–°–æ–æ–±—â–µ–Ω–∏–µ</p> <p class="min-w-[20px] h-[20px] px-[6px] rounded-full bg-[#ED3426] text-white
                     text-[12px] font-bold flex items-center justify-center leading-none
                      pointer-events-none">5</p></a>
            <a href="#" class="flex justify-between items-center gap-3 px-[12px] py-[8px] text-[#dbdbdb] font-bold rounded-[8px] hover:bg-[#161616]"><p class="flex items-center gap-2"><img src="/design/img/notification-sidebar.png" alt="">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</p> <p class="min-w-[20px] h-[20px] px-[6px] rounded-full bg-[#ED3426] text-white
                     text-[12px] font-bold flex items-center justify-center leading-none
                      pointer-events-none">5</p></a>
            <a href="#" class="flex items-center gap-3 px-[12px] py-[8px] text-[#dbdbdb] font-bold rounded-[8px] hover:bg-[#161616]"><img src="/design/img/settings-sidebar.png" alt="">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
            <a href="#" class="flex items-center gap-3 px-[12px] py-[8px] text-[#dbdbdb] font-bold rounded-[8px] hover:bg-[#161616]"><img src="/design/img/logout-sidebar.png" alt="">–í—ã–π—Ç–∏</a>
        </div>

        <div class="flex flex-col w-full gap-1 text-[16px] border-b border-[#0f0f0f] pb-2">
            <a href="#" class="flex items-center gap-3 px-[12px] py-[8px] text-[#dbdbdb] font-bold rounded-[8px] hover:bg-[#161616] transition-transform duration-300 ease-out"><img src="/design/img/home.png" alt="">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="#" class="flex items-center gap-3 px-[12px] py-[8px] text-[#dbdbdb] font-bold rounded-[8px] hover:bg-[#161616] transition-transform duration-300 ease-out"><img src="/design/img/news-sidebar.png" alt="">–ù–æ–≤–æ—Å—Ç–∏</a>
            <a href="#" class="flex items-center gap-3 px-[12px] py-[8px] text-[#dbdbdb] font-bold rounded-[8px] hover:bg-[#161616] transition-transform duration-300 ease-out"><img src="/design/img/forum-sidebar.png" alt="">–§–æ—Ä—É–º</a>
            <a href="#" class="flex items-center gap-3 px-[12px] py-[8px] text-[#dbdbdb] font-bold rounded-[8px] hover:bg-[#161616] transition-transform duration-300 ease-out"><img src="/design/img/blog-sidebar.png" alt="">–ë–ª–æ–≥</a>
            <a href="#" class="flex items-center gap-3 px-[12px] py-[8px] text-[#dbdbdb] font-bold rounded-[8px] hover:bg-[#161616] transition-transform duration-300 ease-out"><img src="/design/img/chat-sidebar.png" alt="">–ú–∏–Ω–∏-—á–∞—Ç</a>
            <a href="#" class="flex items-center gap-3 px-[12px] py-[8px] text-[#dbdbdb] font-bold rounded-[8px] hover:bg-[#161616] transition-transform duration-300 ease-out"><img src="/design/img/users-sidebar.png" alt="">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</a>
        </div>

        <div class="flex items-center justify-between w-full text-[12px] text-[#777777] font-semibold">
          <a href="#" class="px-[12px] py-[8px] pt-0 hover:text-[#dbdbdb] transition-transform duration-300 ease-out">–ü–æ–º–æ—â—å</a>
          <a href="#" class="px-[12px] py-[8px] pt-0 hover:text-[#dbdbdb] transition-transform duration-300 ease-out">–ê–¥–º–∏–Ω–∏</a>
          <p class="px-[12px] py-[8px] pt-0">G: 0.0045</p>
        </div>
    </div>

    <!--mobile header (sticky top)-->
    <div class="flex items-center justify-between w-full bg-[#131313] border-b border-[#1D1D1D] text-[#dbdbdb] sticky top-0 sm:hidden">
      <a href="/modules/settings/index.html" class="flex items-center gap-1 px-[16px] py-[14px]"><img src="/design/img/back.png" alt=""></a>
      <div class="flex justify-center font-semibold">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏</div>
      <a href="#" class="flex items-center gap-1 px-[16px] py-[14px]"><img src="/design/img/more.png" alt=""></a>
    </div>

<!-- ‚úÖ mobile navbar ‚Äî FIXED bottom + equal width links -->
<div class="fixed bottom-0 left-0 right-0 sm:hidden z-99
            bg-[#131313] border-t border-[#1D1D1D] text-[#dbdbdb] h-[70px]

">
  <!-- –≤–µ—Å—å —Ä—è–¥ –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É -->
  <nav class="w-full h-full flex">

    <!-- –ì–ª–∞–≤–Ω–∞—è -->
    <a href="#"
       class="flex-1 h-full flex flex-col items-center justify-center gap-1 mt-[-5px]">
      <span class="relative inline-block">
        <img src="/design/img/navbar-home.png" alt="">
      </span>
      <span class="text-[10px]">–ì–ª–∞–≤–Ω–∞—è</span>
    </a>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <a href="#"
       class="flex-1 h-full flex flex-col items-center justify-center gap-1 mt-[-5px]">
      <span class="relative inline-block">
        <img src="/design/img/navbar-notification.png" alt="">
        <!-- badge -->
        <span class="absolute -top-1 -right-1 translate-x-1/4 -translate-y-1/0
                     min-w-[18px] h-[18px] px-[6px] rounded-full bg-[#ED3426] text-white
                     text-[10px] font-bold flex items-center justify-center leading-none
                     ring-2 ring-[#131313] pointer-events-none">5</span>
      </span>
      <span class="text-[10px]">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</span>
    </a>

    <!-- –ß–∞—Ç—ã -->
    <a href="#"
       class="flex-1 h-full flex flex-col items-center justify-center gap-1 mt-[-5px]">
      <span class="relative inline-block">
        <img src="/design/img/navbar-mail.png" alt="">
        <!-- badge -->
        <span class="absolute -top-1 -right-1 translate-x-1/4 -translate-y-1/0
                     min-w-[18px] h-[18px] px-[6px] rounded-full bg-[#ED3426] text-white
                     text-[10px] font-bold flex items-center justify-center leading-none
                     ring-2 ring-[#131313] pointer-events-none">4</span>
      </span>
      <span class="text-[10px]">–ß–∞—Ç—ã</span>
    </a>

    <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
    <a href="#"
       class="flex-1 h-full flex flex-col items-center justify-center gap-1 mt-[-5px]">
      <span class="relative inline-block">
        <img class="rounded-full w-[24px] h-[24px]" src="/design/img/default-avatar.png" alt="">
      </span>
      <span class="text-[10px]">–ü—Ä–æ—Ñ–∏–ª—å</span>
    </a>

  </nav>
</div>


    <!--content-->
    <div class="w-full max-w-[540px] flex flex-col gap-4 items-center text-[14px] p-3 sm:gap-4 sm:p-0">

        <!--Navigation-->
        <div class="hidden sm:flex items-center pt-1 justify-between w-full text-[#dbdbdb] sticky top-0 bg-black z-50">
            <a href="#" class="flex items-center gap-1 pr-4 py-3"><img class="w-[26px]" src="/design/img/back.png" alt=""></a>
            <div class="flex justify-center font-semibold text-[16px] gap-2"><p>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏</p></div>
            <button type="button" class="flex items-center gap-1 px-[16px] py-[14px]" data-bottom-sheet-open data-bottom-sheet-target="navbar-actions"><img src="/design/img/more.png" alt=""></button>
        </div>




        <div class="flex flex-col w-full max-w-[540px] text-[#dbdbdb] gap-2">
            <div class="px-1 text-[14px]">–ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ</div>
            <input class="pl-4 px-2 py-3 w-full focus:border-[#505050] focus:outline bg-[#131313] border border-[#1D1D1D] text-[#ffffff] placeholder:text-[#dbdbdb] rounded-[12px] text-[14px]" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" value="–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Nomicms v3.x" name="" id="">
        </div>

 

<div class="flex flex-col w-full max-w-[540px] text-[#dbdbdb] gap-2">
  <div class="px-1 text-[14px]">–°–æ–æ–±—â–µ–Ω–∏–µ</div>
  <form action="" class="flex flex-col w-full max-w-[540px]">
    <textarea
      rows="10"
      placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
      class="invisible-scroll w-full p-4 border border-[#1D1D1D] rounded-[12px] bg-[#131313] text-[#ffffff] placeholder:text-[#8C8C8C]
             leading-[1.4]
             focus:ring-0 focus:outline-none
             min-h-[70px] max-h-[50vh] resize-none overflow-y-auto">–î–æ–±—Ä—ã–π –¥–µ–Ω—å. –£ –Ω–∞—Å –¥–ª—è –≤–∞—Å –¥–≤–µ –Ω–æ–≤–æ—Å—Ç–∏.

1 –í–µ–¥—ë—Ç—Å—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏.
2 –ù–æ, –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é –¥–∞—Ç–∞ –≤—ã—Ö–æ–¥–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞.

–ß—Ç–æ –∂–¥–∞—Ç—å –≤ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

1 –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É.
2 –ü–∞–∫–µ—Ç—ã —Ç–µ–ø–µ—Ä—å –∑–∞–º–µ–Ω—è—Ç –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å.
3 –ù–æ–≤–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.
4 –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è (Routing). –ò –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.

–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1 PHP: 7.3
2 Apache 2.4
3 MySQL: 5.6 MySQL Native Driver (mysqlnd)
4 –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ .htaccess

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏
Telegram</textarea>
  </form>
</div>

        <div class="w-full max-w-[540px]">
            <button class="px-2 py-3 bg-[#31AEEC] text-black font-bold rounded-[8px] w-full hover:bg-[#3abdff]">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
    </div>


    
<div id="navbar-bottom-sheet" data-bottom-sheet="navbar-actions" class="fixed inset-0 z-50 hidden" aria-hidden="true">
        <div class="absolute inset-0 bg-black/80 opacity-0 transition-opacity duration-300" data-bottom-sheet-overlay></div>
        <div class="absolute bottom-0 left-0 right-0 bg-[#131313] border-t border-[#1D1D1D] rounded-t-[16px] px-4 pt-4 pb-6 translate-y-full transition-transform duration-300" data-bottom-sheet-panel role="menu">
            <div class="mx-auto mb-4 h-[4px] w-12 rounded-full bg-[#2E2E2E]"></div>
            <div class="flex flex-col items-center gap-2 text-[#F5F5F5] text-[14px]">
                <button type="button" class="flex items-center gap-3 w-full max-w-[540px] rounded-[10px] border border-[#232323] bg-[#1C1C1C] p-2 px-4 text-left hover:bg-[#252525]" data-bottom-sheet-dismiss data-bottom-sheet-action="edit">–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É</button>
                <button type="button" class="flex items-center gap-3 w-full max-w-[540px] rounded-[10px] border border-[#232323] bg-[#1C1C1C] p-2 px-4 text-left hover:bg-[#252525]" data-bottom-sheet-dismiss data-bottom-sheet-action="notify">–ù–∞–ø–∏—Å–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É</button>
                <button type="button" class="flex items-center gap-3 w-full max-w-[540px] rounded-[10px] border border-[#232323] bg-[#1C1C1C] p-2 px-4 text-left hover:bg-[#252525]" data-bottom-sheet-dismiss data-bottom-sheet-action="share">–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</button>
                <button type="button" class="mt-4 w-full max-w-[540px] rounded-[10px] border border-[#232323] p-2 text-[#F5F5F5] hover:bg-[#1C1C1C]" data-bottom-sheet-dismiss>–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
            </div>
    </div>

    <style>
  /* ‚ú® –°—Ç–∏–ª—å —Ç–æ–Ω–∫–æ–≥–æ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ (Chrome, Edge, Safari) */
  .invisible-scroll::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .invisible-scroll::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.15);
    border-radius: 8px;
    transition: opacity 0.3s ease;
  }

  .invisible-scroll::-webkit-scrollbar-track {
    background: transparent;
  }

  /* üëÄ –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∫—Ä—ã—Ç */
  .invisible-scroll::-webkit-scrollbar-thumb {
    opacity: 0;
  }

  /* üí® –ü–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –∏–ª–∏ —Å–∫—Ä–æ–ª–ª–µ */
  .invisible-scroll:hover::-webkit-scrollbar-thumb,
  .invisible-scroll:active::-webkit-scrollbar-thumb {
    opacity: 1;
  }

  /* Firefox */
  .invisible-scroll {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.15) transparent;
  }
</style>

    <script>
(() => {
  const MAX_SIZE = 5 * 1024 * 1024; // 5MB
  const input   = document.getElementById('avatarFile');
  const img     = document.getElementById('avatarImg');
  const remove  = document.getElementById('removeAvatar');
  const err     = document.getElementById('avatarError');
  const preview = document.getElementById('avatarPreview');

  const defaultSrc = img.getAttribute('src');

  function setError(msg) {
    if (!msg) {
      err.classList.add('hidden'); err.textContent = '';
      preview.classList.remove('ring-1','ring-[#ED3426]');
    } else {
      err.textContent = msg; err.classList.remove('hidden');
      preview.classList.add('ring-1','ring-[#ED3426]');
    }
  }

  function updatePreview(file) {
    if (!file) return;

    // —Ç–∏–ø—ã
    if (!/^image\/(jpeg|png|webp|gif|bmp|svg\+xml|svg)$/.test(file.type)) {
      setError('–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (JPG, PNG, WebP, SVG‚Ä¶).');
      input.value = ''; remove.disabled = true;
      return;
    }
    // —Ä–∞–∑–º–µ—Ä
    if (file.size > MAX_SIZE) {
      setError('–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º—É–º 5 –ú–ë.');
      input.value = ''; remove.disabled = true;
      return;
    }

    setError('');
    const url = URL.createObjectURL(file);
    img.src = url;
    remove.disabled = false;
  }

  input.addEventListener('change', (e) => {
    const file = e.target.files && e.target.files[0];
    if (!file) return;
    updatePreview(file);
  });

  remove.addEventListener('click', () => {
    input.value = '';
    img.src = defaultSrc;
    remove.disabled = true;
    setError('');
  });

  // (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Drag & Drop –ø—Ä—è–º–æ –Ω–∞ –ø—Ä–µ–≤—å—é
  ['dragenter','dragover'].forEach(ev => {
    preview.addEventListener(ev, (e) => {
      e.preventDefault(); e.stopPropagation();
      preview.classList.add('ring-1','ring-[#32AFED]');
    });
  });
  ['dragleave','drop'].forEach(ev => {
    preview.addEventListener(ev, (e) => {
      e.preventDefault(); e.stopPropagation();
      preview.classList.remove('ring-1','ring-[#32AFED]');
    });
  });
  preview.addEventListener('drop', (e) => {
    const file = e.dataTransfer.files && e.dataTransfer.files[0];
    if (!file) return;
    updatePreview(file);
  });
})();


(function () {
  // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–æ–∑—Ä–∞—Å—Ç–∞ (–º–∏–Ω–∏–º—É–º/–º–∞–∫—Å–∏–º—É–º)
  const MIN_AGE = 14, MAX_AGE = 80;

  const dobInput = document.getElementById('dob');
  const err = document.getElementById('dob-error');
  const nativeWrap = document.getElementById('dob-native-wrap');
  const fbWrap = document.getElementById('dob-fallback');

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ <input type="date">
  const dateSupported = (() => {
    const i = document.createElement('input');
    i.setAttribute('type', 'date');
    return i.type === 'date';
  })();

  // –í—ã—Å—Ç–∞–≤–ª—è–µ–º min/max –¥–ª—è –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –∏–Ω–ø—É—Ç–∞
  function iso(d){ return d.toISOString().slice(0,10); }
  const today = new Date();
  const maxDate = iso(today); // –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ–º –±—É–¥—É—â–µ–µ
  const minDate = iso(new Date(today.getFullYear() - MAX_AGE, 0, 1));
  if (dobInput) { dobInput.max = maxDate; dobInput.min = minDate; }

  // –ü–æ–¥—Å—á—ë—Ç –≤–æ–∑—Ä–∞—Å—Ç–∞
  function ageFrom(d){
    const now = new Date();
    let age = now.getFullYear() - d.getFullYear();
    const m = now.getMonth() - d.getMonth();
    if (m < 0 || (m === 0 && now.getDate() < d.getDate())) age--;
    return age;
  }

  function setError(msg){
    err.textContent = msg || '';
    err.classList.toggle('hidden', !msg);
    if (dateSupported) {
      dobInput.classList.toggle('border-[#ED3426]', !!msg);
    } else {
      // –ü–æ–¥—Å–≤–µ—Ç–∏–º —Å–µ–ª–µ–∫—Ç—ã –ø—Ä–∏ –æ—à–∏–±–∫–µ
      ['dob-day','dob-month','dob-year'].forEach(id=>{
        const el = document.getElementById(id);
        el && el.classList.toggle('border-[#ED3426]', !!msg);
      });
    }
  }

  function validateDate(d) {
    if (!d || isNaN(+d)) { setError('–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –¥–∞—Ç—É.'); return false; }
    if (d > today) { setError('–î–∞—Ç–∞ –∏–∑ –±—É–¥—É—â–µ–≥–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.'); return false; }
    const age = ageFrom(d);
    if (age < MIN_AGE) { setError(`–í–∞–º –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ ${MIN_AGE} –ª–µ—Ç.`); return false; }
    if (age > MAX_AGE) { setError(`–í–æ–∑—Ä–∞—Å—Ç –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—à–∞—Ç—å ${MAX_AGE} –ª–µ—Ç.`); return false; }
    setError('');
    return true;
  }

  if (dateSupported) {
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—Ç–∏–≤–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å
    nativeWrap.classList.remove('hidden');
    fbWrap.classList.add('hidden');

    dobInput.addEventListener('change', () => {
      if (!dobInput.value) return setError('–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É.');
      const d = new Date(dobInput.value + 'T00:00:00');
      validateDate(d);
    });

  } else {
    // –§–æ–ª–±—ç–∫ –Ω–∞ —Å–µ–ª–µ–∫—Ç—ã
    nativeWrap.classList.add('hidden');
    fbWrap.classList.remove('hidden');

    const daySel = document.getElementById('dob-day');
    const monSel = document.getElementById('dob-month');
    const yrSel  = document.getElementById('dob-year');
    const isoOut = document.getElementById('dob-iso');

    // –ó–∞–ø–æ–ª–Ω—è–µ–º –¥–Ω–∏
    for (let d = 1; d <= 31; d++) {
      const opt = document.createElement('option');
      opt.value = String(d).padStart(2,'0');
      opt.textContent = d;
      daySel.appendChild(opt);
    }
    // –ó–∞–ø–æ–ª–Ω—è–µ–º –º–µ—Å—è—Ü—ã (RU)
    const months = ['–Ø–Ω–≤','–§–µ–≤','–ú–∞—Ä','–ê–ø—Ä','–ú–∞–π','–ò—é–Ω','–ò—é–ª','–ê–≤–≥','–°–µ–Ω','–û–∫—Ç','–ù–æ—è','–î–µ–∫'];
    months.forEach((m, idx) => {
      const opt = document.createElement('option');
      opt.value = String(idx+1).padStart(2,'0');
      opt.textContent = m;
      monSel.appendChild(opt);
    });
    // –ó–∞–ø–æ–ª–Ω—è–µ–º –≥–æ–¥—ã (–æ—Ç maxAge –¥–æ minAge)
    const thisYear = today.getFullYear();
    for (let y = thisYear - MIN_AGE; y >= thisYear - MAX_AGE; y--) {
      const opt = document.createElement('option');
      opt.value = y;
      opt.textContent = y;
      yrSel.appendChild(opt);
    }

    function onChange(){
      const dd = daySel.value, mm = monSel.value, yy = yrSel.value;
      if (!dd || !mm || !yy) { setError('–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É.'); return; }
      const candidate = new Date(`${yy}-${mm}-${dd}T00:00:00`);
      if (!validateDate(candidate)) return;
      isoOut.value = `${yy}-${mm}-${dd}`; // –ø—Ä–∏–≥–æ–¥–Ω–æ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ –±–µ–∫
    }

    daySel.addEventListener('change', onChange);
    monSel.addEventListener('change', onChange);
    yrSel.addEventListener('change', onChange);
  }
})();

  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤—ã—Å–æ—Ç—ã –¥–ª—è –≤—Å–µ—Ö textarea —Å [data-autosize]
  const fit = (el) => {
    el.style.height = 'auto';                 // —Å–±—Ä–æ—Å
    el.style.height = el.scrollHeight + 'px'; // –ø–æ–¥–≥–æ–Ω –ø–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É
  };

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ —Å—Ç–∞—Ä—Ç–µ
  document.querySelectorAll('[data-autosize]').forEach(fit);

  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞ (–≤–≤–æ–¥, —É–¥–∞–ª–µ–Ω–∏–µ, –≤—Å—Ç–∞–≤–∫–∞)
  document.addEventListener('input', (e) => {
    if (e.target.matches('[data-autosize]')) fit(e.target);
  });

  // Bottom sheet menu interactions
  (function () {
    const sheets = Array.from(document.querySelectorAll('[data-bottom-sheet]'));
    if (!sheets.length) return;
    const openButtons = Array.from(document.querySelectorAll('[data-bottom-sheet-open]'));
    if (!openButtons.length) return;

    const sheetMap = new Map();
    let activeSheet = null;

    function ensureClosed(state) {
      state.panel.classList.add('translate-y-full');
      state.overlay.classList.add('opacity-0');
      state.sheet.classList.add('hidden');
    }

    function closeSheet(state) {
      if (!state || state.sheet.classList.contains('hidden')) return;
      state.overlay.classList.add('opacity-0');
      state.panel.classList.add('translate-y-full');

      const onTransitionEnd = (event) => {
        if (event.target !== state.panel) return;
        if (!state.panel.classList.contains('translate-y-full')) return;
        state.sheet.classList.add('hidden');
        if (activeSheet === state) {
          activeSheet = null;
          document.removeEventListener('keydown', handleEscape);
        }
      };

      state.panel.addEventListener('transitionend', onTransitionEnd, { once: true });
    }

    function handleEscape(event) {
      if (event.key !== 'Escape' || !activeSheet) return;
      closeSheet(activeSheet);
    }

    function openSheet(state) {
      if (!state) return;

      if (activeSheet && activeSheet !== state) {
        closeSheet(activeSheet);
      }

      activeSheet = state;
      state.sheet.classList.remove('hidden');
      requestAnimationFrame(() => {
        state.overlay.classList.remove('opacity-0');
        state.panel.classList.remove('translate-y-full');
      });

      document.addEventListener('keydown', handleEscape);
    }

    sheets.forEach((sheet, index) => {
      const panel = sheet.querySelector('[data-bottom-sheet-panel]');
      const overlay = sheet.querySelector('[data-bottom-sheet-overlay]');
      if (!panel || !overlay) return;

      const dismissButtons = Array.from(sheet.querySelectorAll('[data-bottom-sheet-dismiss]'));
      const identifiers = [
        sheet.dataset.bottomSheet,
        sheet.id,
        `bottom-sheet-${index + 1}`
      ].filter(Boolean);

      if (!identifiers.length) return;

      const state = { id: identifiers[0], sheet, panel, overlay, dismissButtons };
      identifiers.forEach((value) => sheetMap.set(value, state));

      ensureClosed(state);

      overlay.addEventListener('click', () => closeSheet(state));
      sheet.addEventListener('click', (event) => {
        if (event.target === sheet) {
          closeSheet(state);
        }
      });

      dismissButtons.forEach((button) => {
        button.addEventListener('click', (event) => {
          event.preventDefault();
          closeSheet(state);
        });
      });
    });

    if (!sheetMap.size) return;
    const defaultSheet = sheetMap.values().next().value;

    openButtons.forEach((button) => {
      const targetId = button.dataset.bottomSheetTarget || button.getAttribute('data-bottom-sheet-open');
      const state = targetId ? sheetMap.get(targetId) : defaultSheet;
      if (!state) return;

      button.addEventListener('click', (event) => {
        event.preventDefault();
        openSheet(state);
      });
    });
  })();

</script>
</body>
</html>